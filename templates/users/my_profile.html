{% extends "_base.html" %}
{% load crispy_forms_tags %}

{% block title %}My Profile{% endblock title %}

{% block content %}


<div class="mt-5">
    <div class="row justify-content-center">
        <div class="col-12">
            <div class="card p-4 bg-light">
                <h2 class="mb-4">My Profile</h2>
                <hr>
                <p>Welcome {{username}}!</p>
                <div class="d-flex justify-content-around mx-auto mb-4">
                    <button id="btnBooks" class="btn btn-outline-primary m-1">My Books</button>
                    <button id="btnEmails" class="btn btn-outline-primary m-1">My Emails</button>
                    <button id="btnAI" class="btn btn-outline-primary m-1">My Kalibre AI</button>
                    <button id="btnSearches" class="btn btn-outline-primary m-1">My Previous Searches</button>
                </div>
                <div class="card p-4 bg-white">
                    <div id="dynamicBooks" style="display: none;">
                        {% include "users/my_books.html" %}
                    </div>
                    <div id="dynamicEmails" style="display: none;">
                        {% include "users/my_emails.html" %}
                    </div>
                    <div id="dynamicAI" style="display: none;">
                        {% include "users/my_ai_conversations.html" %}
                    </div>
                    <div id="dynamicSearches" style="display: none;">
                        {% include "users/my_search_history.html" %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        var dynamicBooks = $("#dynamicBooks") 
        var dynamicEmails = $("#dynamicEmails") 
        var dynamicAI = $("#dynamicAI") 
        var dynamicSearches = $("#dynamicSearches") 

        function close_dynamic_divs() {
            dynamicBooks.hide("slow");
            dynamicEmails.hide("slow");
            dynamicAI.hide("slow");
            dynamicSearches.hide("slow");
        }

        $("#btnBooks").click(function() {
            close_dynamic_divs();
            dynamicBooks.show("slow");
        });

        $("#btnEmails").click(function() {
            close_dynamic_divs();
            dynamicEmails.show("slow");
        });

        $("#btnAI").click(function() {
            close_dynamic_divs();
            dynamicAI.show("slow");
        });

        $("#btnSearches").click(function() {
            close_dynamic_divs();
            dynamicSearches.show("slow");
        });
    });
</script>

{% endblock content %}